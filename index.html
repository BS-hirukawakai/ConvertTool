<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSVファイルマージ＆フィルタリングツール</title>
</head>

<body>
    <h1>1.住基情報・税情報・住民票コード・前住所地の住所コードを、宛名番号をキーにしてマージする</h1>
    <form id="csvForm1">
        <label for="file1">住基情報ファイルをアップロードして下さい:</label>
        <input type="file" id="file1" accept=".csv"><br><br>
        <label for="file2">税情報ファイルをアップロードして下さい:</label>
        <input type="file" id="file2" accept=".csv"><br><br>
        <label for="file3">住民票コードをアップロードして下さい:</label>
        <input type="file" id="file3" accept=".csv"><br><br>
        <label for="file4">前住所地の住所コードをアップロードして下さい:</label>
        <input type="file" id="file4" accept=".csv"><br><br>
        <button type="button" onclick="mergeCSV()">マージしたファイルをダウンロードする</button>
    </form>

    <h1>2.課税対象の住民を除外する</h1>
    <form id="csvForm2">
        <label for="csvFile1">住基情報＋税情報ファイルをアップロードして下さい:</label>
        <input type="file" id="csvFile1" accept=".csv"><br><br>
        <button type="button" onclick="handleFile()">課税対象の住民を除外したファイルをダウンロードする</button>
    </form>

    <h1>3.死亡している住民を除外する</h1>
    <form id="csvForm3">
        <label for="csvFile2">住基情報＋税情報-課税対象の住民ファイルをアップロードして下さい:</label>
        <input type="file" id="csvFile2" accept=".csv"><br><br>
        <button type="button" onclick="filterDeath()">死亡している住民を除外したファイルをダウンロードする</button>
    </form>

    <h1>4.R5給付対象者を宛名番号をキーとして除外する</h1>
    <form id="csvForm4">
        <label for="file5">住基情報＋税情報-課税対象-死亡者の住民ファイルをアップロードして下さい:</label>
        <input type="file" id="file5" accept=".csv"><br><br>
        <label for="file6">R5給付対象者ファイルをアップロードして下さい:</label>
        <input type="file" id="file6" accept=".csv"><br><br>
        <button type="button" onclick="deleteRowsByAddressNumber()">R5給付対象者を除外したファイルをダウンロードする</button>
    </form>

    <h1>5.廃止事由より「18（他区課税）」の住民を給付対象外として除外する</h1>
    <form id="csvForm5">
        <label for="file7">住基情報＋税情報-課税対象-死亡者-R5給付対象者の住民ファイルをアップロードして下さい:</label>
        <input type="file" id="file7" accept=".csv"><br><br>
        <label for="file8">廃止事由ファイルをアップロードして下さい:</label>
        <input type="file" id="file8" accept=".csv"><br><br>
        <button type="button" onclick="deleteRowsByReason()">他区課税の住民を除外したファイルをダウンロードする</button>
    </form>

    <h1>6.「賦課」に値が入っている（税情報がある）行を削除する</h1>
    <form id="csvForm6">
        <label for="file9">住基情報＋税情報-課税対象-死亡者-R5給付対象者の住民ファイルをアップロードして下さい:</label>
        <input type="file" id="file9" accept=".csv"><br><br>
        <button type="button" onclick="deleteRowsWithAssessment()">税情報が無い住民を抽出したファイルをダウンロードする</button>
    </form>

    <h1>8. 「転入元都道府県市区町村コード」の値を更新する</h1>
    <form id="csvForm8">
        <label for="file11">住基情報ファイルをアップロードしてください:</label>
        <input type="file" id="file11" accept=".csv"><br><br>
        <label for="file12">別ファイルをアップロードしてください:</label>
        <input type="file" id="file12" accept=".csv"><br><br>
        <button type="button" onclick="updateAddressCode()">ファイルを更新してダウンロードする</button>
    </form>
    
    <h1>7.抽出した税情報無しの住民リストを、照会ファイルのフォーマットに整える</h1>
    <form id="csvForm7">
        <label for="file10">ファイルをアップロードしてください:</label>
        <input type="file" id="file10" accept=".csv"><br><br>
        <button type="button" onclick="generateFixedLengthFile()">税情報照会ファイルをダウンロードする</button>
    </form>

    <script src="merge.js"></script>
</body>

</html>
